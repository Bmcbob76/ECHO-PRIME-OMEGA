/**
 * Removes common leading whitespace from all lines in a template literal.
 * This function helps clean up indented template literals used for tool descriptions.
 *
 * @param text - The template literal string with potential leading whitespace
 * @returns The dedented string with leading whitespace removed
 */
export function dedent(text) {
    // Split into lines
    const lines = text.split('\n');
    // Remove first and last lines if they're empty
    if (lines[0] === '')
        lines.shift();
    if (lines[lines.length - 1] === '')
        lines.pop();
    // If no lines remain, return empty string
    if (lines.length === 0)
        return '';
    // Find the minimum indentation (excluding empty lines)
    let minIndent = Infinity;
    for (const line of lines) {
        if (line.trim() === '')
            continue; // Skip empty lines
        const indent = line.match(/^(\s*)/)?.[1]?.length || 0;
        minIndent = Math.min(minIndent, indent);
    }
    // If no indentation found, return as-is
    if (minIndent === 0 || minIndent === Infinity) {
        return lines.join('\n');
    }
    // Remove the common indentation from all lines
    const dedentedLines = lines.map(line => {
        if (line.trim() === '')
            return ''; // Keep empty lines empty
        return line.slice(minIndent);
    });
    return dedentedLines.join('\n');
}
